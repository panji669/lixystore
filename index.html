<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LIXY Store</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>

/* ===========================
   BASE THEME (versi lama)
   =========================== */
:root{
    --bg:#0d0f12;
    --card:#16181d;
    --text:#ffffff;
    --muted:#9aa0af;
    --radius:14px;
    --accent:#f97316; /* default Kopi Kenangan */
}

/* BRAND COLOURS INJECTED WHEN CLICKED */
body.brand-kopken { --accent:#f97316; }
body.brand-fore   { --accent:#22c55e; }
body.brand-tomoro { --accent:#eab308; }
body.brand-jiwa   { --accent:#00a2ff; }
body.brand-chagee { --accent:#ff2e63; }

body{
    margin:0;background:var(--bg);color:var(--text);
    font-family:Poppins,sans-serif;
}

button{cursor:pointer;font-family:inherit;}

/* ===========================
   HEADER – simple clean old style
   =========================== */
header{
    padding:14px 18px;
    font-size:18px;
    font-weight:600;
    border-bottom:1px solid #1f2126;
    background:#0d0f12cc;
    backdrop-filter:blur(10px);
    display:flex;justify-content:space-between;align-items:center;
}

header .brand-title{font-size:18px;}
header .mini-note{font-size:12px;color:var(--muted);margin-top:-2px;}


/* ===========================
   BRAND SELECTOR UI lama style
   =========================== */
.brand-select{
    padding:14px 18px;
    display:flex;
    gap:10px;
    overflow-x:auto;
}

.brand-pill{
    padding:8px 14px;
    border-radius:999px;
    background:#1c1f26;
    border:1px solid #282c34;
    font-size:13px;
    white-space:nowrap;
}
.brand-pill.active{
    background:var(--accent);
    color:#000;
    border-color:var(--accent);
}


/* ===========================
   LAYOUT
   =========================== */
.page{
    display:flex;
    gap:18px;
    padding:18px;
}
.left,.right{flex:1;}
@media(max-width:850px){
    .page{flex-direction:column;}
}

/* ===========================
   MENU CARD (GAMBAR TIDAK CUT)
   =========================== */
.product-card{
    background:var(--card);
    border:1px solid #2a2e34;
    border-radius:var(--radius);
    display:flex;
    gap:12px;
    padding:10px;
    margin-bottom:12px;
}
.product-card img{
    width:110px;
    height:110px;
    border-radius:10px;
    object-fit:cover; /* ini yang membuat GAMBAR TIDAK TERPOTONG BERLEBIHAN */
}
.product-info h3{margin:0;font-size:15px;font-weight:600;}
.product-info small{color:var(--muted);font-size:12px;}
.addbtn{
    margin-top:8px;
    background:var(--accent);
    padding:6px 12px;
    border-radius:8px;
    border:none;
    font-weight:600;
    font-size:13px;color:#000;
}


/* ===========================
   CART
   =========================== */
.cart-box{
    background:var(--card);
    border:1px solid #282c34;
    padding:14px;border-radius:var(--radius);
}
.cart-item{
    background:#1a1c22;padding:10px;border-radius:10px;
    margin-bottom:8px;
}
.cart-item span{font-size:13px;}

.btn-wa{
    background:var(--accent);
    width:100%;padding:10px;
    border-radius:10px;
    font-weight:600;border:none;font-size:15px;margin-top:10px;
}
.btn-clear{
    background:#24272d;border:none;
    color:#ff6277;
    font-size:13px;font-weight:600;
    width:100%;padding:9px;border-radius:10px;margin-top:6px;
}

</style>
</head>
<body class="brand-kopken">

<header>
    <div>
        <div class="brand-title">LIXY Store</div>
        <div class="mini-note">UI versi lama + auto JSON brand</div>
    </div>
</header>

<!-- BRAND CATEGORY -->
<div class="brand-select" id="brandSelect">
    <div class="brand-pill active" data-brand="kopken">Kopi Kenangan</div>
    <div class="brand-pill" data-brand="fore">Fore</div>
    <div class="brand-pill" data-brand="tomoro">Tomoro</div>
    <div class="brand-pill" data-brand="jiwa">Janji Jiwa</div>
    <div class="brand-pill" data-brand="chagee">Chagee</div>
</div>

<!-- MAIN LAYOUT -->
<div class="page">

    <!-- LEFT MENU -->
    <div class="left">
        <div id="menuList">Loading menu...</div>
    </div>

    <!-- RIGHT CART -->
    <div class="right">
        <div class="cart-box">
            <h3>Keranjang</h3>
            <div id="cartList"></div>
            <button class="btn-wa" id="sendWA">Kirim ke WA</button>
            <button class="btn-clear" id="clearCart">Clear Cart</button>
        </div>
    </div>

</div>


<script>
/* ===============================
   DATA SOURCE JSON FILES
   =============================== */
const files={
    kopken:"data/kenangan.json",
    fore:"data/fore.json",
    tomoro:"data/tomoro.json",
    jiwa:"data/janjijiwa.json",
    chagee:"data/chagee.json"
};

let cart=[];

/* LOAD BRAND */
async function loadMenu(brand){
    document.getElementById("menuList").innerHTML="Loading...";    
    const res=await fetch(files[brand]);
    const data=await res.json();

    let html="";
    data.products.forEach(p=>{
        html+=`
        <div class="product-card">
            <img src="${p.image}">
            <div class="product-info">
                <h3>${p.name}</h3>
                <small>${p.category ?? ""}</small><br>
                <b>Rp ${p.price.toLocaleString()}</b><br>
                <button class="addbtn" onclick='addCart(${JSON.stringify(p)})'>Tambah</button>
            </div>
        </div>`;
    });
    document.getElementById("menuList").innerHTML=html;
}
loadMenu("kopken");


/* KLIK BRAND – UBAH WARNA THEMA */
document.querySelectorAll(".brand-pill").forEach(b=>{
    b.onclick=()=>{
        document.querySelectorAll(".brand-pill").forEach(x=>x.classList.remove("active"));
        b.classList.add("active");

        let brand=b.dataset.brand;
        document.body.className="brand-"+brand;
        loadMenu(brand);
    }
});


/* CART */
function addCart(i){
    cart.push(i);
    renderCart();
}
function renderCart(){
    let out=""; cart.forEach((i,x)=>{
        out+=`<div class="cart-item"><span>${i.name}</span></div>`;
    });
    document.getElementById("cartList").innerHTML=out||"<i>belum ada item</i>";
}

document.getElementById("clearCart").onclick=()=>{cart=[];renderCart();}
document.getElementById("sendWA").onclick=()=>alert("WA function next step..");

</script>

</body>
</html>
